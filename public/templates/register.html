<div class="container">
  <h3 class="page-header">Account Register</h3>

  <form ng-submit="registerCtrl.registerUser(userRegistrationForm.$valid)" name="userRegistrationForm" novalidate>
    {{ userRegistrationForm.password.$invalid }}
    {{ userRegistrationForm.password.$pristine }}
    {{ registerCtrl.password }}
    <div class="form-group">
      <label for="">Username</label>
      <input type="text" class="form-control" ng-class="{ 'has-error' : userRegistrationForm.username.$invalid || registerCtrl.userExists }" name="username" placeholder="Username" ng-model="registerCtrl.username" ng-minlength="8" ng-maxlength="64" autocomplete="off" usernameAvailable required >
        <p ng-show="userRegistrationForm.username.$invalid && !userRegistrationForm.username.$pristine" class="help-block">Username is required.</p>
        <p ng-show="userRegistrationForm.username.$error.minlength" class="help-block">Username is too short.</p>
        <p ng-show="userRegistrationForm.username.$error.maxlength" class="help-block">Username is too long.</p>
        <p ng-show="userRegistrationForm.username.$pending">Checking Username...</p>
        <p ng-show="registerCtrl.userExists" class="help-block">Username is taken</p>
    </div>

    <div class="form-group">
      <label for="">Password</label>
      <input type="password" class="form-control" name="password" placeholder="Password" ng-class="{ 'has-error' : userRegistrationForm.password.$invalid }" ng-model="registerCtrl.password" ng-minlength="8" ng-maxlength="64" autocomplete="off" required>
      <p ng-show="userRegistrationForm.password.$error.minlength" class="help-block">Password is too short.</p>
      <p ng-show="userRegistrationForm.password.$error.maxlength" class="help-block">Password is too long.</p>
    </div>

    <div class="form-group">
      <label for="">Confirm Password</label>
      <input type="password" class="form-control" name="passwordConfirm" placeholder="Password Confirmation" ng-model="registerCtrl.passwordConfirm" compare-to="registerCtrl.password" ng-class="{ 'has-error' : userRegistrationForm.password.$invalid }" ng-minlength="8" ng-maxlength="64" autocomplete="off" required>

      <p ng-show="userRegistrationForm.passwordConfirm.$error" class="help-block">Error?</p>
    </div>

    <div class="form-group">
      <label for="">Email</label>
      <input type="email" class="form-control" name="email" ng-model="registerCtrl.email" placeholder="Email" required>
      <p ng-show="registerCtrl.userRegistrationForm.email.$invalid && !registerCtrl.userRegistrationForm.email.$pristine" class="help-block">Enter a valid email.</p>

    </div>
    <div class="form-group">
      <label for="">Confirm Email</label>
      <input type="email" class="form-control" name="email2" ng-model="registerCtrl.email" placeholder="Email Confirmation" required>
    </div>

    <button class="btn btn-default" type="submit" ng-disabled="userRegistrationForm.$invalid">Submit</button>
  </form>

</div>
